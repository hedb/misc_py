"use strict";!function(){if("function"==typeof NodeList.prototype.forEach)return;NodeList.prototype.forEach=Array.prototype.forEach}();var importScript=function(o){function s(e){console.log("The script "+e.target.src+" is not accessible.")}return function(e,t){var n=document.createElement("script");n.type="text/javascript",n.onerror=s,t&&(n.onload=t),o.appendChild(n),n.src=e}}(document.head||document.getElementsByTagName("head")[0]);!function(){function o(e){if(e&&void 0!==e&&""!==e.toString().trim()&&-1!==e.toString().search("_")){var t={token:e},n=e.slice(-1);if("1"===n||"2"===n)t.domain="https://www{0}.bluesnap.com".replace("{0}",n);else if("_"===n)t.domain="https://sandbox.bluesnap.com";else{var o=e.lastIndexOf("_");-1!==o&&(t.token=e.substring(0,o+1),t.domain=e.substring(o+1,e.length))}if(t.token&&t.domain)return t;throw"Invalid Token: "+e}throw"Invalid Token: "+e}var n=document.querySelector("script[src*='bluesnap.js']").src.split("/source/")[0],s={debug:!1},i="/source/web-sdk/hosted-payment-fields/bluesnap.hpf.js";importScript(n+"/source/web-sdk/bluesnap-errors.js",function(){});var r={isSupported:function(e){switch(e){case"PaymentRequest":return void 0!==window.PaymentRequest;default:return!1}},hostedPaymentFieldsCreation:function(e,t){var n=o(e);"undefined"==typeof hostedPaymentFields?importScript(n.domain+i,function(){hostedPaymentFields.hostedPaymentFieldsCreation(n.token,n.domain,t)}):hostedPaymentFields.hostedPaymentFieldsCreation(n.token,n.domain,t)},submitCredentials:function(e,t){null==t&&hostedPaymentFields.change3dsActivation(!1),hostedPaymentFields.submitCredentials(e,t)},updateBSToken:function(e){hostedPaymentFields.updateBSToken(e)},paymentRequest:function(e,t){r.isSupported("PaymentRequest")?importScript(n+"/source/web-sdk/payment-request/payment-request.js",function(){t(new BlueSnapPaymentRequest(e,s))}):console.log("Payment Request is not supported in this browser")},openCheckout:function(e,t){var n=o(e.token);e.extracted_token=n.token,e.targetDomain=n.domain,"undefined"==typeof eCheckout?importScript(e.targetDomain+"/source/web-sdk/embedded-checkout/embedded-checkout-external.js",function(){eCheckout.open(e,t)}):eCheckout.open(e,t)},closeCheckout:function(){"undefined"!=typeof eCheckout&&eCheckout.close()}};window.bluesnap=r}();